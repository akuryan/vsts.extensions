{
  "id": "{38AD8E23-476F-4649-A5D1-D796EC9A626F}",
  "name": "WhiteSourceScanner",
  "friendlyName": "WhiteSource Scanner task",
  "description": "An Azure DevOps Build/Release Task to perform WhiteSource scanner",
  "helpMarkDown": "Information on how to use the task: [See repository](https://github.com/akuryan/vsts.extensions/tree/master/Analysis/WhiteSource)  \n",
  "category": "Utility",
  "visibility": [ "Build", "Release" ],
  "author": "Anton Kuryan",
  "version": {
    "Major": 0,
    "Minor": 0,
    "Patch": 1
  },
  "demands": [ "azureps" ],
  "minimumAgentVersion": "1.95.0",
  "groups": [
    {
        "name": "security",
        "displayName": "Security",
        "isExpanded": true
    }
],
  "inputs": [
    {
      "name": "forceDownload",
      "type": "pickList",
      "label": "Force redownload of scanner",
      "required": true,
      "helpMarkDown": "",
      "defaultValue": "No",
      "options": {
        "True": "Yes",
        "False": "No"
      }
    },
    {
      "name": "scannerTargetPath",
      "type": "string",
      "label": "Download scanner to:",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Enter path on agent where scanner will be downloaded; if empty - it will be downloaded to temp folder."
    },
    {
      "name": "projectHaveConfig",
      "type": "pickList",
      "label": "Please, specify, if project have configuration file for WhiteSource.",
      "required": true,
      "helpMarkDown": "If project do not have config file - default one will be downloaded and you will have possibility to specify some values in task",
      "defaultValue": "No",
      "options": {
        "True": "Yes",
        "False": "No"
      }
    },
    {
      "name": "wssConfigPath",
      "type": "string",
      "label": "Path to WhiteSource config in project",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "If project have WhiteSource configuration file - it shall be specified here",
      "visibleRule": "projectHaveConfig = True"
    },
    {
      "name": "projectName",
      "type": "string",
      "label": "Project Name:",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "",
      "visibleRule": "projectHaveConfig = False"
    },    
  ],
  "instanceNameFormat": "StartAzureDevOpsScanner",
  "execution": {
    "PowerShell3": {
      "target": "azuredevops-scanner.ps1",
      "argumentFormat": "",
      "workingDirectory": "$(currentDirectory)"
    }
  }
}
